<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- ƒê·∫£m b·∫£o giao di·ªán th√≠ch ·ª©ng v·ªõi c√°c k√≠ch th∆∞·ªõc m√†n h√¨nh -->
  <title>G∆∞∆°ng Th·∫ßn & L·ªùi Ch√∫c H√¥m Nay</title>
  <style>
    /* ƒê·∫∑t l·∫°i margin v√† padding m·∫∑c ƒë·ªãnh */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    /* C·∫•u h√¨nh chung cho body */
    body {
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 50px;
      background: #ffe3ec;
      padding: 20px;
      min-height: 100vh; /* ƒê·∫£m b·∫£o chi·ªÅu cao ƒë·ªß ƒë·ªÉ ph·ªß m√†n h√¨nh */
      justify-content: center;
      transition: background 0.5s;
    }

    h1 {
      color: #d86ba3;
      font-size: 1.8rem;
      text-align: center;
      margin-bottom: 20px;
    }

    .section {
      background: #fff;
      border-radius: 20px;
      box-shadow: 0 0 15px rgba(255, 150, 200, 0.3);
      padding: 20px;
      width: 100%;
      max-width: 500px;
      text-align: center;
      position: relative;
    }

    .box {
      min-height: 100px;
      margin-bottom: 20px;
      font-size: 1.1rem;
      color: #c94f7c;
      line-height: 1.5;
      opacity: 0;
      animation: fadeIn 1s ease forwards;
    }

    /* Hi·ªáu ·ª©ng fadeIn cho vƒÉn b·∫£n */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    button {
      padding: 12px 24px;
      font-size: 1rem;
      background-color: #ff98b4;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      color: #fff;
      font-weight: bold;
      transition: background 0.3s;
      width: 100%; /* ƒê·∫£m b·∫£o n√∫t ƒë·∫ßy ƒë·ªß chi·ªÅu r·ªông */
      max-width: 300px; /* Gi·ªõi h·∫°n chi·ªÅu r·ªông n√∫t */
      margin: 0 auto; /* CƒÉn gi·ªØa n√∫t */
    }

    button:hover {
      background-color: #e37696;
    }

    /* G∆∞∆°ng l·∫•p l√°nh */
    .sparkle {
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      pointer-events: none;
      background-image: radial-gradient(circle, rgba(255,255,255,0.3) 1px, transparent 1px);
      background-size: 20px 20px;
      animation: sparkle 2s linear infinite;
      z-index: 0;
    }

    @keyframes sparkle {
      from { background-position: 0 0; }
      to { background-position: 20px 20px; }
    }

    /* Giao di·ªán s√°ng/t·ªëi theo gi·ªù */
    body.light {
      background: #fff2f8;
    }

    body.dark {
      background: #1f1b24;
    }

    body.dark .section {
      background: #2c2233;
      color: #fff;
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
    }

    body.dark h1 {
      color: #ffb3d1;
    }

    body.dark .box {
      color: #ffbfd7;
    }

    body.dark button {
      background-color: #ff6d9f;
    }

    body.dark button:hover {
      background-color: #e85a89;
    }

    /* Responsive v·ªõi c√°c thi·∫øt b·ªã nh·ªè h∆°n */
    @media screen and (max-width: 768px) {
      body {
        padding: 15px;
      }

      h1 {
        font-size: 1.5rem;
      }

      .section {
        padding: 15px;
      }

      .box {
        font-size: 1rem;
      }

      button {
        font-size: 1rem;
        padding: 10px 20px;
      }
    }

    @media screen and (max-width: 480px) {
      body {
        padding: 10px;
      }

      h1 {
        font-size: 1.2rem;
      }

      .section {
        padding: 10px;
      }

      .box {
        font-size: 0.9rem;
      }

      button {
        font-size: 1rem;
        padding: 8px 16px;
      }
    }
  </style>
</head>
<body>

  <div class="section">
    <div class="sparkle"></div>
    <h1>üîÆ G∆∞∆°ng Th·∫ßn</h1>
    <div class="box" id="mirrorBox">
      B·∫•m ‚ÄúSoi g∆∞∆°ng‚Äù ƒë·ªÉ th·∫•y ƒëi·ªÅu k·ª≥ di·ªáu ‚ú®
    </div>
    <button onclick="showMirrorMessage()">Soi g∆∞∆°ng</button>
  </div>

  <div class="section">
    <h1>üíå L·ªùi Ch√∫c H√¥m Nay</h1>
    <div class="box" id="quoteBox">
      Nh·∫•n n√∫t ƒë·ªÉ nh·∫≠n m·ªôt l·ªùi ch√∫c ng·ªçt ng√†o üíñ
    </div>
    <button onclick="showQuote()">Nh·∫≠n l·ªùi ch√∫c</button>
  </div>

  <br/>
  <label for="voiceSelect">üéôÔ∏è Ch·ªçn gi·ªçng n√≥i:</label>
  <select id="voiceSelect"></select>

  <script>
    const mirrorMessages = [
      "Ng∆∞·ªùi trong g∆∞∆°ng l√† ng∆∞·ªùi d·ªÖ th∆∞∆°ng nh·∫•t h√¥m nay.",
      "Ai ƒë·∫πp h∆°n hoa? L√† ng∆∞·ªùi b·∫°n ƒëang nh√¨n n√®!",
      "G∆∞∆°ng b·∫£o r·∫±ng: b·∫°n ch√≠nh l√† √°nh m·∫∑t tr·ªùi nh·ªè!",
      "Kh√¥ng ai r·∫°ng r·ª° h∆°n b·∫°n l√∫c n√†y ƒë√¢u.",
      "G∆∞∆°ng th·∫ßn n√≥i: b·∫°n ƒë·∫πp theo c√°ch r·∫•t ri√™ng!",
      "Nh√¨n v√†o g∆∞∆°ng ƒëi, b·∫°n th·∫•y ng∆∞·ªùi m√† ai c≈©ng y√™u qu√Ω ƒë√≥!",
      "ƒê·∫πp xinh nh∆∞ n√†y, g∆∞∆°ng c≈©ng ph·∫£i g·∫≠t g√π khen ng·ª£i!"
    ];

    const quotes = [
      "Ch√∫c b·∫°n m·ªôt ng√†y tr√†n ƒë·∫ßy ni·ªÅm vui v√† nh·ªØng ƒëi·ªÅu ng·ªçt ng√†o!",
      "H√¥m nay s·∫Ω l√† m·ªôt ng√†y th·∫≠t tuy·ªát ‚Äì v√¨ b·∫°n x·ª©ng ƒë√°ng nh∆∞ th·∫ø!",
      "N·ª• c∆∞·ªùi c·ªßa b·∫°n l√† √°nh n·∫Øng nh·ªè trong l√≤ng ai ƒë√≥ ƒë·∫•y.",
      "B·∫°n ƒëang l√†m r·∫•t t·ªët r·ªìi, ƒë·ª´ng qu√™n t·ª± khen m√¨nh nh√©!",
      "G·ª≠i m·ªôt c√°i √¥m ·∫£o t·ªõi b·∫°n ‚Äì ch√∫c b·∫°n lu√¥n ·∫•m √°p v√† an y√™n.",
      "D√π h√¥m nay th·∫ø n√†o, b·∫°n v·∫´n l√† ng∆∞·ªùi tuy·ªát v·ªùi nh·∫•t.",
      "Ch√∫c b·∫°n t√¨m th·∫•y ni·ªÅm vui ·ªü nh·ªØng ƒëi·ªÅu nh·ªè x√≠u nh·∫•t.",
      "B·∫°n m·∫°nh m·∫Ω h∆°n b·∫°n nghƒ© nhi·ªÅu l·∫Øm ƒë√≥!",
      "B·∫°n l√† l√Ω do khi·∫øn ai ƒë√≥ th·∫•y cu·ªôc ƒë·ªùi ƒë·∫πp h∆°n üíï",
      "G·ª≠i b·∫°n m·ªôt b√≥ hoa t√¢m h·ªìn ‚Äì v√¨ b·∫°n x·ª©ng ƒë√°ng ƒë∆∞·ª£c y√™u th∆∞∆°ng."
    ];

    let voices = [];
    let selectedVoice = null;
    let isSpeaking = false; // Bi·∫øn ki·ªÉm tra gi·ªçng c√≥ ƒëang ƒë·ªçc kh√¥ng

    // Load voice list
    function loadVoices() {
      voices = speechSynthesis.getVoices();
      const select = document.getElementById("voiceSelect");
      select.innerHTML = ""; // Clear

      voices.forEach((voice, index) => {
        if (voice.lang.startsWith("vi")) { // Ch·ªâ l·∫•y ti·∫øng Vi·ªát
          const option = document.createElement("option");
          option.value = index;
          option.textContent = `${voice.name} (${voice.lang})`;
          select.appendChild(option);
        }
      });

      if (voices.length && select.options.length > 0) {
        select.selectedIndex = 0;
        selectedVoice = voices[select.value];
      }
    }

    speechSynthesis.onvoiceschanged = loadVoices;

    document.getElementById("voiceSelect").addEventListener("change", function () {
      selectedVoice = voices[this.value];
    });

    function fadeInText(element, message) {
      element.style.opacity = 0;
      element.innerText = message;
      element.classList.remove('box'); // reset animation
      void element.offsetWidth; // trigger reflow
      element.classList.add('box'); // re-add animation
    }

    function speak(text) {
      if ('speechSynthesis' in window) {
        const msg = new SpeechSynthesisUtterance(text);
        msg.lang = 'vi-VN';
        msg.rate = 1; // T·ªëc ƒë·ªô gi·ªçng n√≥i
        msg.pitch = 1.3; // TƒÉng pitch cho gi·ªçng d·ªÖ th∆∞∆°ng
        if (selectedVoice) msg.voice = selectedVoice;
        speechSynthesis.cancel(); // D·ª´ng t·∫•t c·∫£ √¢m thanh c≈© tr∆∞·ªõc khi ph√°t √¢m thanh m·ªõi
        speechSynthesis.speak(msg); // Ph√°t √¢m thanh
      }
    }

    function showMirrorMessage() {
      if (isSpeaking) return; // N·∫øu gi·ªçng n√≥i ƒëang ƒë·ªçc, kh√¥ng l√†m g√¨ th√™m

      const box = document.getElementById('mirrorBox');
      const randomText = mirrorMessages[Math.floor(Math.random() * mirrorMessages.length)];
      
      fadeInText(box, randomText); // Hi·ªÉn th·ªã tin nh·∫Øn

      isSpeaking = true; // ƒê√°nh d·∫•u l√† gi·ªçng ƒëang ƒë·ªçc
      speak(randomText); // ƒê·ªçc tin nh·∫Øn

      // Sau khi gi·ªçng n√≥i ho√†n th√†nh, cho ph√©p b·∫•m n√∫t ti·∫øp
      setTimeout(() => {
        isSpeaking = false; // ƒê·∫∑t l·∫°i tr·∫°ng th√°i ƒë·ªÉ c√≥ th·ªÉ b·∫•m l·∫°i
      }, 3000); // Th·ªùi gian ch·ªù 3 gi√¢y (c√≥ th·ªÉ ch·ªânh s·ª≠a theo √Ω mu·ªën)
    }

    function showQuote() {
      const box = document.getElementById('quoteBox');
      const randomText = quotes[Math.floor(Math.random() * quotes.length)];
      fadeInText(box, randomText);
      speak(randomText);
    }

    // Giao di·ªán s√°ng/t·ªëi theo gi·ªù
    const hour = new Date().getHours();
    if (hour >= 18 || hour < 6) {
      document.body.classList.add('dark');
    } else {
      document.body.classList.add('light');
    }
  </script>

</body>
</html>
